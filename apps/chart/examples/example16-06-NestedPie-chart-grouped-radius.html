<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/codemirror.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/addon/lint/lint.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/theme/neo.css"
    />
    <link rel="stylesheet" type="text/css" href="./css/example.css" />
    <link rel="stylesheet" href="../dist/toastui-chart.css" />
    <title>16.6 [NestedPie Chart] Grouped Data with variable radius</title>
  </head>
  <body>
    <div class="description">
      You can see the tutorial
      <a href="https://github.com/nhn/tui.chart/blob/main/docs/en/chart-nestedPie.md" target="_blank">here</a>
      <br />
      <strong
        >The example code can be slower than your environment because the code is transpiled by
        babel-standalone in runtime.</strong
      >
    </div>
    <div class="wrap">
      <div class="code-html" id="code-html">
        <div id="chart-area"></div>
      </div>
      <div class="custom-area">
        <div id="error-dim">
          <span id="error-text"></span>
          <div id="error-stack"></div>
          <span id="go-to-dev-tool"
            >For more detail, open browser's developer tool and check it out.</span
          >
        </div>
        <div class="try-it-area">
          <h3>try it</h3>
          <textarea id="code"></textarea>
          <div class="apply-btn-area">
            <button class="btn" onclick="evaluationCode(chartCM, codeString);">Run it!</button>
          </div>
        </div>
      </div>
    </div>
    <script src="https://unpkg.com/babel-standalone@6.26.0/babel.min.js"></script>
    <script src="../dist/toastui-chart.js"></script>
    <script class="code-js" id="code-js" type="text/babel">
      
      const el = document.getElementById('chart-area');
      const data = {
      // categories: ['A', 'B'],
      series: [
        {
          name: 'errandcategories',
          data: [
            {
              name: 'Arbetsmarknad',
              data: 360/7,
            },
            {
              name: 'Rekreation',
              data: 360/7,
            },
            {
              name: 'Kommersiell service',
              data: 360/7,
            },
            {
              name: 'Föreningsliv',
              data: 360/7,
            },
            {
              name: 'Offentlig service',
              data: 360/7,
            },
            {
              name: 'Utbildning',
              data: 360/7,
            },
            {
              name: 'Sjukvård',
              data: 360/7,
            },
          ],
        },
        {
          name: 'errands',
          data: [
            {
              name: 'Jordbruk',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.9,
            },
            {
              name: 'Tillverkning',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.05,
            },
            {
              name: 'Energi',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.11,
            },
            {
              name: 'Byggverksamhet',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.6,
            },
            {
              name: 'Handel',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.52,
            },
            {
              name: 'Transport',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.2,
            },
            {
              name: 'Hotell/restaurang',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.8,
            },
            {
              name: 'Information',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.8,
            },
            {
              name: 'Finansverksamhet',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.3,
            },
            {
              name: 'Fastighetsverksamhet',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.4,
            },
            {
              name: 'Företagstjänster',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.44,
            },
            {
              name: 'Offentlig förvaltning',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.2,
            },
            {
              name: 'Utbildning ',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.63,
            },
            {
              name: 'Vård och omsorg',
              parentName: 'Arbetsmarknad',
              data: 1,
              radiusFactor: 1.2,
            },
            {
              name: 'Grönområden',
              parentName: 'Rekreation',
              data: 4.7,
            },
            {
              name: 'Sport',
              parentName: 'Rekreation',
              data: 4.6,
              radiusFactor: 1.3,
            },
            {
              name: 'Fiske',
              parentName: 'Rekreation',
              data: 4.7,
              radiusFactor: 1.2,
            },
            {
              name: 'Apotek',
              parentName: 'Kommersiell service',
              data: 3.5,
              radiusFactor: 1.3,
            },
            {
              name: 'Drivmedel',
              parentName: 'Kommersiell service',
              data: 3.5,
              radiusFactor: 1.1,
            },
            {
              name: 'Dagligvaruhandel',
              parentName: 'Kommersiell service',
              data: 3.5,
              radiusFactor: 1.42,
            },
            {
              name: 'Sällanköpshandel',
              parentName: 'Kommersiell service',
              data: 3.5,
              radiusFactor: 1.6,
            },
            {
              name: 'Idrott',
              parentName: 'Föreningsliv',
              data: 7,
              radiusFactor: 1.0,
            },
            {
              name: 'Kultur',
              parentName: 'Föreningsliv',
              data: 7,
              radiusFactor: 1.25,
            },
            {
              name: 'Bibliotek',
              parentName: 'Offentlig service',
              data: 3.5,
              radiusFactor: 1.1,
            },
            {
              name: 'Återvinning',
              parentName: 'Offentlig service',
              data: 3.5,
              radiusFactor: 1.52,
            },
            {
              name: 'Polis',
              parentName: 'Offentlig service',
              data: 3.5,
              radiusFactor: 1.5,
            },
            {
              name: 'Räddningstjänst',
              parentName: 'Offentlig service',
              data: 3.5,
              radiusFactor: 1.2,
            },
            {
              name: 'Förskola',
              parentName: 'Utbildning',
              data: 3,
              radiusFactor: 1.1,
            },
            {
              name: 'Grundskola',
              parentName: 'Utbildning',
              data: 3,
              radiusFactor: 1.1,
            },
            {
              name: 'Gymnasieskola',
              parentName: 'Utbildning',
              data: 3,
              radiusFactor: 1.2,
            },
            {
              name: 'Universitet',
              parentName: 'Utbildning',
              data: 3,
              radiusFactor: 0.8,
            },
            {
              name: 'Folkhögskola',
              parentName: 'Utbildning',
              data: 3,
              radiusFactor: 1.3,
            },
            {
              name: 'Sjukhus',
              parentName: 'Sjukvård',
              data: 3.5,
              radiusFactor: 1.2,
            },
            {
              name: 'vårdcentral',
              parentName: 'Sjukvård',
              data: 3.5,
              radiusFactor: 1.6,
            },
            {
              name: 'Tandläkare',
              parentName: 'Sjukvård',
              data: 3.5,
              radiusFactor: 1.4,
            },
            {
              name: 'Ambulans',
              parentName: 'Sjukvård',
              data: 3.5,
              radiusFactor: 1.1,
            },
          ],
        },
      ],
    };
    const options = {
      theme: {
        series: {
          colors: ['#007398', '#A4123F', '#1998D6', '#78AA00', '#00205B', '#DC8633', '#93328E', '#F2A900', '#F4364C'],
          dataLabels: {
            callout: {
              useSeriesColor: true,
            },
            pieSeriesName: {
              useSeriesColor: false,
              color: '#000',
              fontSize: 13,
            },
          },
        },
      },
      chart: {
        width: 500, height: 500, compareCircleRadius: 115, totalAggregate: 2.564,
      },
      legend: { align: 'bottom' },
      series: {
        errandcategories: {
          radiusRange: {
            inner: '30%',
            outer: '40%',
          },
        },
        errands: {
          radiusRange: {
            inner: '41%',
            outer: '100%',
          },
          dataLabels: {
            visible: true,
            formatter: () => '',
            pieSeriesName: {
              visible: true,
              anchor: 'outer',
            },
          },
        },
      },
    };

      const chart = toastui.Chart.nestedPieChart({ el, data, options });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.0/codemirror.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.0/addon/edit/matchbrackets.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.0/addon/selection/active-line.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.0/mode/javascript/javascript.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.0/addon/lint/lint.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.0/addon/lint/javascript-lint.js"></script>
    <script src="./js/example.js" type="text/babel"></script>
  </body>
</html>
